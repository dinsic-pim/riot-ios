name: Riot

targets:
  Riot:
    type: application
    platform: iOS

    dependencies:
    - target: RiotShareExtension
    - target: SiriIntents
    - target: RiotNSE
    - target: DesignKit

    configFiles:
      Debug: Debug.xcconfig
      Release: Release.xcconfig

    preBuildScripts:
    - name: ‚ö†Ô∏è SwiftLint
      runOnlyWhenInstalling: false
      shell: /bin/sh
      script: "\"${PODS_ROOT}/SwiftLint/swiftlint\"\n"
    - name: üõ† SwiftGen
      runOnlyWhenInstalling: false
      shell: /bin/sh
      script: "\"${PODS_ROOT}/SwiftGen/bin/swiftgen\" config run --config \"Tools/SwiftGen/swiftgen-config.yml\"\n"

    sources:
    - path: ../Tools
      excludes:
        - "Logs"
        - "Release"
        - "Templates/*.sh"
    - path: ../Config
    - path: .
      excludes:
        - "Modules/Room/EmojiPicker/Data/EmojiMart/EmojiJSONStore.swift"
        - "**/*.strings" # Exclude all strings files
        - "Modules/Application"
        - "Modules/BadgeLabel"
        - "Modules/CallTransfer"
        - "Modules/Communities"
        - "Modules/Contacts"
        - "Modules/CreateRoom"
        - "Modules/DotsView"
        - "Modules/Favorites"
        - "Modules/Home"
        - "Modules/LaunchLoading"
        - "Modules/MajorUpdate"
        - "Modules/People"
        - "Modules/PublicRoomList"
        - "Modules/Room/RoomViewController.h"
        - "Modules/Rooms"
        - "Modules/SetPinCode"
        - "Modules/Settings"
        - "Modules/SideMenu"
        - "Modules/Spaces"
        - "Modules/SplitView"
        - "Modules/StartChat"
        - "Modules/TabBar"
        - "Modules/User"
        - "Modules/UserInteractiveAuthentication"
